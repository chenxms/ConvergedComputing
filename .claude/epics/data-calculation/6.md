---
name: 区分度和难度计算
status: open
created: 2025-09-04T19:20:00Z
updated: 2025-09-04T19:34:05Z
github: https://github.com/chenxms/ConvergedComputing/issues/6
depends_on: [4]
parallel: true
conflicts_with: []
---

# Task: 区分度和难度计算

## Description
实现教育统计中的区分度和难度计算算法。区分度用于衡量题目区分不同能力学生的能力，难度用于衡量题目的困难程度。采用标准的前27%/后27%分组算法和教育统计公式，为教育评估提供科学依据。

## Acceptance Criteria
- [ ] 实现区分度计算：(前27%平均分 - 后27%平均分) / 满分
- [ ] 实现难度系数计算：平均分 / 满分
- [ ] 实现前27%/后27%学生分组算法
- [ ] 支持题目级别和考试级别的区分度难度分析
- [ ] 实现区分度等级划分：优秀(>0.4)、良好(0.3-0.4)、一般(0.2-0.3)、差(<0.2)
- [ ] 实现难度等级划分：容易(>0.7)、中等(0.3-0.7)、困难(<0.3)

## Technical Details
- 分组算法：基于总分排序的前后27%学生筛选
- 统计公式：采用经典教育测量理论公式
- 数据处理：处理缺考、作弊、异常分数等特殊情况
- 批量计算：支持批量题目和批量考试的计算
- 结果验证：实现计算结果的合理性检查
- 涉及文件：app/Services/Statistical/DiscriminationDifficultyCalculator.php, app/Contracts/Statistical/EducationalStatsInterface.php

## Algorithm Specification
```php
// 区分度计算算法
function calculateDiscrimination($scores, $fullMark) {
    // 1. 按总分排序学生
    // 2. 选择前27%和后27%学生
    // 3. 计算两组平均分
    // 4. 应用公式：(高分组均分 - 低分组均分) / 满分
}

// 难度系数计算
function calculateDifficulty($scores, $fullMark) {
    // 1. 计算所有有效分数的平均分
    // 2. 应用公式：平均分 / 满分
}
```

## Educational Statistics Requirements
- 区分度解释：>0.4优秀，0.3-0.4良好，0.2-0.3一般，<0.2需改进
- 难度系数解释：>0.7容易，0.3-0.7适中，<0.3困难
- 样本要求：建议最少30名学生参与计算
- 异常处理：处理极端分数、缺考情况

## Dependencies
- [ ] 任务003完成：基础统计计算引擎可用
- [ ] 确认教育统计标准和公式规范
- [ ] 确认分组策略和异常数据处理规则

## Effort Estimate
- Size: M
- Hours: 12-16小时
- Parallel: true (可与004、006、007并行)

## Definition of Done
- [ ] 代码实现完成：区分度难度计算核心功能
- [ ] 教育统计验证：与教育测量标准对比验证
- [ ] 边界测试：小样本、极端分数等特殊情况测试
- [ ] 批量计算测试：大量题目和考试的性能测试
- [ ] 文档完成：教育统计理论说明和使用指南
- [ ] 专业评审：教育统计专业人员算法评审
